
<div id="app">
</div>

<script>
  ReviewMi.currentUser = '<%= current_username %>'
</script>

<!-- ======================= -->
<!-- UNDERSCORE.JS TEMPLATES -->
<!-- ======================= -->

<!-- APP VIEW -->

<script id="appView" type="text/x-underscore-template">
  <div id="container">
    <div id="banner">

      <a href="#" id="heading">ReviewMi</a>

      <!-- to output login form OR user details and logout button -->
      <div id="user">
      </div>
    </div>

    <ul id="navbar">
      <li><a href="#">Home</a></li>
      <li><a href="#search/movies" class="logged-in-only">Search Movies</a></li>
    </ul>

    <div id="main">
    </div>

    <div id="footer">
      <p>Site Designed by Simon Taylor - 2014</p>
    </div>
  </div><!-- #container -->
</script>

<script id="loggedOutView" type="text/x-underscore-template">
  <form id="login">
    <label>Login here:</label>
    <input type="text" id="username" placeholder="username" required>
    <input type="password" id="password" placeholder="password" required>
    <button>Login</button>
  </form>
  <a href="#users/signup" class="register">Register</a>
</script>

<script id="loggedInView" type="text/x-underscore-template">
  <p>logged in as: {{ ReviewMi.currentUser }} <button id="logout">Logout</button></p>
</script>

<!-- HOME VIEW -->

<script id="homeView" type="text/x-underscore-template">
  <div class="home-view">
    <h3 id="page-heading">Latest Reviews...</h3>

    <ul id="reviews">
    </ul>
  </div>
</script>

<!-- HOME SUB VIEW -->

<script id="homeSubView" type="text/x-underscore-template">
  <div class="home-sub-view">
    <h3 class="title">{{ media_type }} - {{ title }}</h3>
    <img src="{{ image }}" class="img-thumb"
    ><div class="details">
      <p><b>Rating:</b> {{ rating }}</p>
      <p><b>Preview:</b> {{ description }}</p>
      <p><b>Reviewed by:</b> {{ username }} </p>
      <p><b>Date:</b> {{ created_at }} </p>
      <a href="#review/new/{{ content_id }}" class="review-this logged-in-only">Review this!</a>
    </div>
  </div>
</script>

<!-- SEARCH MOVIES VIEW -->

<script id="searchMovies" type="text/x-underscore-template">
  <div class="search-movies">

    <!-- PAGE HEADING -->
    <h3>Search Movies (to Review)</h3>

    <!-- MOVIE SEARCH FORM -->
    <form id="search-movies-frm">
      <label>Movie Title:</label>
      <input id="search-text" type="text" required>
      <button>Search!</button>
    </form>

    <!-- DISPLAY SEARCH RESULTS -->
    <div id="result">
    </div>

  </div>
</script>

<!-- SEARCH MOVIES RESULTS SUB VIEW -->

<script id="searchMoviesResultsSub" type="text/x-underscore-template">
  <p>{{ title }} - {{ year }} - type: {{ type }}</p>
</script>

<!-- MOVIE TITLE VIEW -->

<script id="movies" type="text/x-underscore-template">
  
  <div class="movies">
    <h1>View a Movie</h1>
    <h2>{{ title }}</h2>
    <img src="{{ image }}"
    ><div class="details">
      <p><b>Year:</b> {{ year }}</p>
      <p><b>Genre:</b> {{ genre }}</p>
      <p><b>Director:</b> {{ director }}</p>
      <p><b>Writer:</b> {{ writer }}</p>
      <p><b>Plot:</b> {{ plot }}</p>
      <button>Create Review!</button>
    </div>
  </div>
</script>

<!-- REVIEW NEW VIEW -->

<script id="reviewNewView" type="text/x-underscore-template">
  <div class="review-new">

    <h2>{{ title }}</h2>
    <img class="image" src="{{ image }}"

    ><div class="content">
      <p>Write your review here...</p>
      <div id="stars"></div><br>

      <form id="review-new-frm">
        <textarea id="review" cols="120" rows="10"></textarea><br>
        <button id="submit">Submit Review</button>
      </form>

    </div>

  </div>
</script>

<!-- REVIEW VIEW -->

<script id="reviewView" type="text/x-underscore-template">
  <div class="review-view">
    <h1>View Review</h1>
    <h2 class="title">{{ title }}</h2>
    <img class="image" src="{{ image }}"
    ><div id="content">
      <p><b>Rating:</b> <span id="stars"></span></p>
      <p><b>Review:</b> {{ description }}</p>
      <p><b>Reviewed by:</b> {{ username }} </p>
      <p><b>Date:</b> {{ created_at }} </p>
      <a href="#" class="back">&#60; Back</a>
    </div>
  </div>
</script>

<!-- USER SIGNUP VIEW -->

<script id="usersSignupView" type="text/x-underscore-template">
  <div class="users-signup">
    <h2 id="page-heading">Register Here</h2>

    <ul id="errors"></ul>

    <form id="users-signup-frm">
      <label>Email:</label>
      <input type="email" id="reg-email" required>
      <label>Username:</label>
      <input type="text" id="reg-username" required>
      <label>Password:</label>
      <input type="password" id="reg-password" required>
      <label>Password Confirmation:</label>
      <input type="password" id="reg-password-conf" required>
      <button id="create-account">Create Account</button>
    </form>
  </div>
</script>